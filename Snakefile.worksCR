configfile: "config.yaml"

# no wildcard in shell
rule cr_mapping:
	input:
		"data/{sample}_S1_L001_R1_001.fastq.gz",
		"data/{sample}_S1_L001_R2_001.fastq.gz"
	output:
		"data/{sample}.log"
	params:
		path = config["cr_path"],
		ref = config["ref"],
		# sample = config["samples"]
	shell:
		"""
		ls {input}
		{params.path} count --id=cr_{wildcards.sample} --transcriptome={params.ref} --fastqs=data/ --sample={wildcards.sample} 2> {output}
		mv cr_{wildcards.sample} data/
		"""

